{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="row">
    <div class="col-lg-12">
        <ol class="breadcrumb">
            <li>
                <a href="{% url 'gallery:list-by-user' gallery.created_by.username %}">
                    <em><i class="fa fa-chevron-circle-right"></i>&nbsp; {{ gallery.created_by.get_full_name }}'s Galleries</em>
                </a>
            </li>
            <li class="active">
                <i class="fa fa-chevron-circle-right"></i>&nbsp; 
                Portfolio: <em>{{ gallery.name }}</em>
            </li>
        </ol>
    </div>
</div>

<div class="row">
    <div class="col-lg-9">
        <h1>{{ gallery.name }}
            {% if gallery.portfolios.count == 0 %}
            <sup data-toggle="tooltip" data-placement="top" title="This gallery is marked as private, because it does not have at least one (1) portfolio yet."><i class="fa fa-lock"></i></sup>
            {% endif %}
            <small>by <a href="" title="See {{ gallery.created_by.username }}'s profile">{{ gallery.created_by.get_full_name }}</a></small>
        </h1>
    </div>
    <div class="col-lg-3">
        {% if user.is_authenticated %}
        <div class="page-header text-right">
            <a href="" class="btn btn-warning"><i class="fa fa-heart-o"></i>&nbsp; Favorite <span class="badge">{{ gallery.likers.count }}</span></a>
            <div class="btn-group">
                <button class="dropdown-toggle btn btn-danger" data-toggle="dropdown" role="button" aria-expanded="false">Options &nbsp;&nbsp;<i class="fa fa-ellipsis-v"></i></button>
                <ul class="dropdown-menu" role="menu">
                    {% if user == gallery.created_by %}
                    <li><a href="{% url 'gallery:edit' gallery.slug %}"><i class="fa fa-pencil-square-o"></i>&nbsp; Edit</a></li>
                    <li><a href="" data-toggle="modal" data-target="#gallery-delete"><i class="fa fa-trash"></i>&nbsp; Delete</a></li>
                    {% else %}
                    <li><a href="{% url 'gallery:delete' gallery.slug %}"><i class="fa fa-plus-square-o"></i>&nbsp; Add to Collections</a></li>
                    <li><a href="{% url 'gallery:edit' gallery.slug %}"><i class="fa fa-exclamation-circle"></i>&nbsp; Report as inappropriate</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            </ol>
            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="{% static '/grayscale/img/intro-bg.jpg' %}" alt="...">
                    <div class="carousel-caption">
                        <h3>All About Tokyo</h3>
                        <p>The G' spring racing carnival, citylink secret laneway bars the storm spencer st station formula one grand prix, north melbourne shinboners trams ball pellegrini's moomba, bespectacled girls presets melbourne cricket ground kylie minogue the melbourne cup, richmond tigers victory vs heart cookie</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static '/grayscale/img/intro-bg.jpg' %}" alt="...">
                    <div class="carousel-caption">
                        <h3>All About Tokyo</h3>
                        <p>The melbourne cup the saints, melbourne central the bulldogs the croft institute footy tullamarine, spiegeltent essendon bombers street art warehouse chic chopper read, the storm pellegrini's brunswick st hippy collins place trams, four seasons in one day naked for satan bespectacled girls</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static '/grayscale/img/intro-bg.jpg' %}" alt="...">
                    <div class="carousel-caption">
                        <h3>All About Tokyo</h3>
                        <p>The melbourne cup the saints, melbourne central the bulldogs the croft institute footy tullamarine, spiegeltent essendon bombers street art warehouse chic chopper read, the storm pellegrini's brunswick st hippy collins place trams, four seasons in one day naked for satan bespectacled girls</p>
                    </div>
                </div>
            </div>
            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <hr>
        <div class="text-right">
            <a href="{% url 'portfolio:list' gallery.slug %}" class="btn btn-primary btn"><i class="fa fa-eye"></i>&nbsp; See all portfolios</a>
            {% if user == gallery.created_by %}
                <a href="{% url 'portfolio:bulk-create' gallery.slug %}" class="btn btn-default btn"><i class="fa fa-plus-square"></i>&nbsp; Add Portfolio</a>
            {% endif %}
        </div>
    </div>
    <div class="col-md-4">
        <p>
            <i class="fa fa-calendar"></i>&nbsp;
            <em>Created at {{ gallery.created }}</em>
        </p>
        <p>
            <i class="fa fa-play-circle"></i>&nbsp;
            {% if gallery.description %}
                {{ gallery.description|linebreaksbr }}
            {% else %}
                <em class="text-muted">No description was provided.</em>
            {% endif %}
        </p>
        <hr>
        {% include 'partials/comment_form.html' with object=gallery %}
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <h3 class="page-header">Related Projects</h3>
    </div>
    <div class="col-sm-3 col-xs-6">
        <a href="#">
            <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
        </a>
    </div>
    <div class="col-sm-3 col-xs-6">
        <a href="#">
            <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
        </a>
    </div>
    <div class="col-sm-3 col-xs-6">
        <a href="#">
            <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
        </a>
    </div>
    <div class="col-sm-3 col-xs-6">
        <a href="#">
            <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
        </a>
    </div>
</div>

<div class="modal fade" id="gallery-delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Delete</h4>
            </div>
            <div class="modal-body">
                <form action="{% url 'gallery:delete' gallery.slug %}" id="group-form" method="POST">
                    {% csrf_token %}
                    <p>Are you sure you want to delete this gallery "{{ object.name }}"?</p>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>
                <button form="group-form" class="btn btn-danger btn-sm">Proceed</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
